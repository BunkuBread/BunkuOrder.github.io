<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Bunku Bread Order</title>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <div class="gradient-bg"></div>
  <main class="order-main">
    <h1>Order Bunku Bread</h1>
    <p class="subtitle">Freshly baked, home-based, and delivered with love in the UAE.</p>
    <form class="order-form" id="orderForm" autocomplete="off">
      <div class="order-type-row">
        <label>
          <input type="radio" name="orderType" value="pickup" checked>
          Pick Up
        </label>
        <label>
          <input type="radio" name="orderType" value="delivery">
          Delivery (+35 AED)
        </label>
      </div>
      <label>
        First Name<br>
        <input type="text" name="firstName" required>
      </label>
      <label>
        Last Name<br>
        <input type="text" name="lastName" required>
      </label>
      <label>
        City<br>
        <input type="text" name="city" required>
      </label>
      <div id="licensePlateField">
        <label>
          License Plate<br>
          <input type="text" name="licensePlate" maxlength="15" placeholder="e.g. D 12345">
        </label>
      </div>
      <label>
        Phone Number<br>
        <input type="tel" name="phone" required pattern="[\d\s+()-]{6,}">
      </label>
      <label>
        Location (Google Maps link)
        <button type="button" class="maps-btn" onclick="window.open('https://maps.google.com', '_blank')"
          title="Open Google Maps in a new tab">üìç</button><br>
        <input type="url" name="location" placeholder="Paste your Google Maps link here" required>
      </label>
      <label>
        Amount of Boxes
        <span class="info-icon" title="Each box contains 4 pieces of bread.">‚ÑπÔ∏è</span><br>
        <input type="number" name="boxes" id="boxes" min="1" max="30" value="1" required>
      </label>
      <div class="order-summary" id="orderSummary">
        Total: <span id="totalPrice">50</span> AED
      </div>
      <button type="submit">Place Order</button>
    </form>
    <div class="order-info">
      <p>After submitting, we‚Äôll contact you to confirm your order and delivery details.</p>
      <p>Questions? DM us on <a href="https://instagram.com/Bunku.uae" target="_blank">@Bunku.uae</a> or WhatsApp 054 458 8113.</p>
    </div>
  </main>
  <script>
    // Conditional License Plate field
    const orderTypeRadios = document.querySelectorAll('input[name="orderType"]');
    const licensePlateField = document.getElementById('licensePlateField');
    const boxesInput = document.getElementById('boxes');
    const totalPriceSpan = document.getElementById('totalPrice');
    const orderSummaryDiv = document.getElementById('orderSummary');
    let deliveryFee = 35;

    function updateFields() {
      const orderType = document.querySelector('input[name="orderType"]:checked').value;
      if (orderType === "pickup") {
        licensePlateField.style.display = "block";
      } else {
        licensePlateField.style.display = "none";
      }
      updateTotal();
    }

    function updateTotal() {
      const orderType = document.querySelector('input[name="orderType"]:checked').value;
      let boxes = parseInt(boxesInput.value, 10) || 1;
      if (boxes < 1) boxes = 1;
      if (boxes > 30) boxes = 30;
      boxesInput.value = boxes;
      let total = boxes * 50;
      if (orderType === "delivery") total += deliveryFee;
      totalPriceSpan.textContent = total;
      orderSummaryDiv.innerHTML = `Total: <span id="totalPrice">${total}</span> AED` +
        (orderType === "delivery" ? `<br><span class="fee-note">Includes 35 AED delivery fee</span>` : "");
    }

    orderTypeRadios.forEach(radio => radio.addEventListener('change', updateFields));
    boxesInput.addEventListener('input', updateTotal);

    // Initialize on page load
    updateFields();

    // Prevent form submission (for demo)
    document.getElementById('orderForm').addEventListener('submit', function(e) {
      e.preventDefault();
      alert('Order submitted! (Hook up to Supabase or your backend to process orders.)');
    });
  </script>
</body>
</html>
